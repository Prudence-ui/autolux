
/* ======================
   CARS DATA (GALERIE IMAGES LOCALES)
====================== */

const cars = [

{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars2/1.jpg",
"assets/cars/cars2/2.jpg",
"assets/cars/cars2/3.jpg"
],

whatsapp:"229XXXXXXXX"
},

{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars3/1.jpg",
"assets/cars/cars3/2.jpg",
"assets/cars/cars3/3.jpg"
],

whatsapp:"229XXXXXXXX"
},

{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars4/1.jpg",
"assets/cars/cars4/2.jpg",
"assets/cars/cars4/3.jpg"
],

whatsapp:"229XXXXXXXX"
},

{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars5/1.jpg",
"assets/cars/cars5/2.jpg",
"assets/cars/cars5/3.jpg"
],

whatsapp:"229XXXXXXXX"
},

{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},

{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},


{
name:"BMW M4 Competition",
price:"58 000 €",

description:"",
stats:{
year:"2022",
power:"510 HP",
fuel:"Essence",
transmission:"Automatique"
},

images:[
"assets/cars/cars1/cover.jpg",
"assets/cars/cars1/1.jpg",
"assets/cars/cars1/2.jpg",
"assets/cars/cars1/3.jpg"
],

whatsapp:"229XXXXXXXX"
},




];


/* ======================
   DISPLAY CARS
====================== */

const container = document.getElementById("cars-container");

function displayCars(list){

if(!container) return;

container.innerHTML = "";

list.forEach((car,index)=>{

container.innerHTML += `
<div class="car-card">

<img 
data-src="${car.images[0]}"
src="assets/loading.jpg"
alt="${car.name}"
loading="lazy">


<div class="car-info">
<h3>${car.name}</h3>
<p class="price">${car.price}</p>

<a href="voiture.html?id=${index}" class="btn">
Info
</a>

</div>
</div>
`;

});

}

displayCars(cars);


/* ======================
   SEARCH SYSTEM
====================== */

const searchInput = document.getElementById("searchInput");

if(searchInput){

searchInput.addEventListener("keyup",function(){

const value = this.value.toLowerCase();

const filtered = cars.filter(car =>
car.name.toLowerCase().includes(value)
);

displayCars(filtered);

});

}


/* ======================
   COUNTER ANIMATION
====================== */

const counters = document.querySelectorAll(".counter");

function startCounter(){

counters.forEach(counter=>{

const target = +counter.dataset.target;
let count = 0;

function update(){

const increment = target / 120;

if(count < target){
count += increment;
counter.innerText = Math.floor(count);
requestAnimationFrame(update);
}else{
counter.innerText = target + "+";
}

}

update();

});

}

window.addEventListener("load", startCounter);


/* ======================
   TRANSLATIONS GLOBAL
====================== */

const translations = {

fr:{
home:"Accueil",
cars:"Voitures",
contact:"Contact",
navigation:"Navigation",
title:"International Premium Car Marketplace",
search:"Rechercher une voiture...",
sold:"Voitures vendues",
countries:"Pays desservis",
clients:"Clients satisfaits",
support:"Support 24/7",
footer_desc:"International Premium Car Marketplace."
},

en:{
home:"Home",
cars:"Cars",
contact:"Contact",
navigation:"Navigation",
title:"International Premium Car Marketplace",
search:"Search a car...",
sold:"Cars sold",
countries:"Countries served",
clients:"Satisfied clients",
support:"24/7 Support",
footer_desc:"International Premium Car Marketplace."
},

it:{
home:"Home",
cars:"Auto",
contact:"Contatto",
navigation:"Navigazione",
title:"Marketplace Auto Premium Internazionale",
search:"Cerca un'auto...",
sold:"Auto vendute",
countries:"Paesi serviti",
clients:"Clienti soddisfatti",
support:"Supporto 24/7",
footer_desc:"Marketplace Auto Premium Internazionale."
},

de:{
home:"Startseite",
cars:"Autos",
contact:"Kontakt",
navigation:"Navigation",
title:"Internationaler Premium Auto Marktplatz",
search:"Auto suchen...",
sold:"Verkaufte Autos",
countries:"Bediente Länder",
clients:"Zufriedene Kunden",
support:"24/7 Support",
footer_desc:"Internationaler Premium Auto Marktplatz."
},

es:{
home:"Inicio",
cars:"Coches",
contact:"Contacto",
navigation:"Navegación",
title:"Marketplace Internacional de Autos Premium",
search:"Buscar coche...",
sold:"Autos vendidos",
countries:"Países atendidos",
clients:"Clientes satisfechos",
support:"Soporte 24/7",
footer_desc:"Marketplace Internacional de Autos Premium."
},

pt:{
home:"Início",
cars:"Carros",
contact:"Contato",
navigation:"Navegação",
title:"Marketplace Internacional de Carros Premium",
search:"Pesquisar carro...",
sold:"Carros vendidos",
countries:"Países atendidos",
clients:"Clientes satisfeitos",
support:"Suporte 24/7",
footer_desc:"Marketplace Internacional de Carros Premium."
}

};


/* ======================
   APPLY LANGUAGE
====================== */

function applyLanguage(lang){

document.querySelectorAll("[data-i18n]").forEach(el=>{
const key = el.dataset.i18n;
if(translations[lang][key]){
el.textContent = translations[lang][key];
}
});

document.querySelectorAll("[data-i18n-placeholder]").forEach(el=>{
const key = el.dataset.i18nPlaceholder;
if(translations[lang][key]){
el.placeholder = translations[lang][key];
}
});

}


/* ======================
   LANGUAGE SWITCHER
====================== */

const switcher = document.getElementById("languageSwitcher");

if(switcher){

let savedLang = localStorage.getItem("lang") || "fr";

switcher.value = savedLang;
applyLanguage(savedLang);

switcher.addEventListener("change",function(){
localStorage.setItem("lang", this.value);
applyLanguage(this.value);
});

}


/* ======================
   SMART LAZY LOAD
====================== */

const lazyImages = document.querySelectorAll("img");

const observer = new IntersectionObserver(entries=>{

entries.forEach(entry=>{

if(entry.isIntersecting){

const img = entry.target;

if(img.dataset.src){
img.src = img.dataset.src;
}

observer.unobserve(img);

}

});

});

lazyImages.forEach(img=>observer.observe(img));